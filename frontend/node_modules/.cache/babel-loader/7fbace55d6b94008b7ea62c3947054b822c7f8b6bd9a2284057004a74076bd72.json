{"ast":null,"code":"import React,{useState,useEffect}from'react';import CompanyList from'./components/CompanyList';import StockChart from'./components/StockChart';import StockInfo from'./components/StockInfo';import PredictionCard from'./components/PredictionCard';import MarketSummary from'./components/MarketSummary';import Header from'./components/Header';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[selectedCompany,setSelectedCompany]=useState(null);const[stockData,setStockData]=useState(null);const[predictionData,setPredictionData]=useState(null);const[marketSummary,setMarketSummary]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Fetch market summary on component mount\nuseEffect(()=>{fetchMarketSummary();},[]);const fetchMarketSummary=async()=>{try{const response=await fetch('/api/market-summary');if(response.ok){const data=await response.json();setMarketSummary(data);}}catch(error){console.error('Error fetching market summary:',error);}};const handleCompanySelect=async company=>{setSelectedCompany(company);setLoading(true);setError(null);try{// Fetch stock data\nconst stockResponse=await fetch(\"/api/stock/\".concat(company.symbol));if(stockResponse.ok){const stockData=await stockResponse.json();setStockData(stockData);}else{throw new Error('Failed to fetch stock data');}// Fetch prediction data\nconst predictionResponse=await fetch(\"/api/prediction/\".concat(company.symbol));if(predictionResponse.ok){const predictionData=await predictionResponse.json();setPredictionData(predictionData);}else{console.warn('Failed to fetch prediction data');setPredictionData(null);}}catch(error){setError('Failed to fetch stock data. Please try again.');console.error('Error:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-6\",children:[marketSummary&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(MarketSummary,{data:marketSummary})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(CompanyList,{onCompanySelect:handleCompanySelect,selectedCompany:selectedCompany})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3 space-y-6\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"card bg-danger-50 border-danger-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-danger-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]})}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Loading stock data...\"})]})}),selectedCompany&&stockData&&!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StockInfo,{stockData:stockData}),predictionData&&/*#__PURE__*/_jsx(PredictionCard,{predictionData:predictionData}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold mb-4 text-gray-800\",children:[selectedCompany.name,\" (\",selectedCompany.symbol,\") - Price Chart\"]}),/*#__PURE__*/_jsx(StockChart,{symbol:selectedCompany.symbol,stockData:stockData})]})]}),!selectedCompany&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 mx-auto\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-600 mb-2\",children:\"Select a Company\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Choose a company from the left panel to view its stock information and charts.\"})]})]})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","CompanyList","StockChart","StockInfo","PredictionCard","MarketSummary","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","selectedCompany","setSelectedCompany","stockData","setStockData","predictionData","setPredictionData","marketSummary","setMarketSummary","loading","setLoading","error","setError","fetchMarketSummary","response","fetch","ok","data","json","console","handleCompanySelect","company","stockResponse","concat","symbol","Error","predictionResponse","warn","className","children","onCompanySelect","name","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/Users/poorneswarreddy/Desktop/assignment_jer/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CompanyList from './components/CompanyList';\nimport StockChart from './components/StockChart';\nimport StockInfo from './components/StockInfo';\nimport PredictionCard from './components/PredictionCard';\nimport MarketSummary from './components/MarketSummary';\nimport Header from './components/Header';\nimport { Company, StockData, PredictionData, MarketSummaryData } from './types';\n\nfunction App() {\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\n  const [stockData, setStockData] = useState<StockData | null>(null);\n  const [predictionData, setPredictionData] = useState<PredictionData | null>(null);\n  const [marketSummary, setMarketSummary] = useState<MarketSummaryData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch market summary on component mount\n  useEffect(() => {\n    fetchMarketSummary();\n  }, []);\n\n  const fetchMarketSummary = async () => {\n    try {\n      const response = await fetch('/api/market-summary');\n      if (response.ok) {\n        const data = await response.json();\n        setMarketSummary(data);\n      }\n    } catch (error) {\n      console.error('Error fetching market summary:', error);\n    }\n  };\n\n  const handleCompanySelect = async (company: Company) => {\n    setSelectedCompany(company);\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Fetch stock data\n      const stockResponse = await fetch(`/api/stock/${company.symbol}`);\n      if (stockResponse.ok) {\n        const stockData = await stockResponse.json();\n        setStockData(stockData);\n      } else {\n        throw new Error('Failed to fetch stock data');\n      }\n\n      // Fetch prediction data\n      const predictionResponse = await fetch(`/api/prediction/${company.symbol}`);\n      if (predictionResponse.ok) {\n        const predictionData = await predictionResponse.json();\n        setPredictionData(predictionData);\n      } else {\n        console.warn('Failed to fetch prediction data');\n        setPredictionData(null);\n      }\n    } catch (error) {\n      setError('Failed to fetch stock data. Please try again.');\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      \n      <div className=\"container mx-auto px-4 py-6\">\n        {/* Market Summary */}\n        {marketSummary && (\n          <div className=\"mb-6\">\n            <MarketSummary data={marketSummary} />\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Left Panel - Company List */}\n          <div className=\"lg:col-span-1\">\n            <CompanyList \n              onCompanySelect={handleCompanySelect}\n              selectedCompany={selectedCompany}\n            />\n          </div>\n\n          {/* Main Panel - Stock Information and Charts */}\n          <div className=\"lg:col-span-3 space-y-6\">\n            {error && (\n              <div className=\"card bg-danger-50 border-danger-200\">\n                <div className=\"flex items-center space-x-2 text-danger-700\">\n                  <span className=\"text-lg\">⚠️</span>\n                  <span>{error}</span>\n                </div>\n              </div>\n            )}\n\n            {loading && (\n              <div className=\"card\">\n                <div className=\"flex items-center justify-center space-x-3\">\n                  <div className=\"spinner\"></div>\n                  <span className=\"text-gray-600\">Loading stock data...</span>\n                </div>\n              </div>\n            )}\n\n            {selectedCompany && stockData && !loading && (\n              <>\n                {/* Stock Information Card */}\n                <StockInfo stockData={stockData} />\n                \n                {/* Prediction Card */}\n                {predictionData && (\n                  <PredictionCard predictionData={predictionData} />\n                )}\n                \n                {/* Stock Chart */}\n                <div className=\"card\">\n                  <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">\n                    {selectedCompany.name} ({selectedCompany.symbol}) - Price Chart\n                  </h2>\n                  <StockChart \n                    symbol={selectedCompany.symbol}\n                    stockData={stockData}\n                  />\n                </div>\n              </>\n            )}\n\n            {!selectedCompany && !loading && (\n              <div className=\"card text-center py-12\">\n                <div className=\"text-gray-400 mb-4\">\n                  <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                  Select a Company\n                </h3>\n                <p className=\"text-gray-500\">\n                  Choose a company from the left panel to view its stock information and charts.\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGhB,QAAQ,CAAiB,IAAI,CAAC,CAC5E,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAmB,IAAI,CAAC,CAClE,KAAM,CAACmB,cAAc,CAAEC,iBAAiB,CAAC,CAAGpB,QAAQ,CAAwB,IAAI,CAAC,CACjF,KAAM,CAACqB,aAAa,CAAEC,gBAAgB,CAAC,CAAGtB,QAAQ,CAA2B,IAAI,CAAC,CAClF,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAgB,IAAI,CAAC,CAEvD;AACAC,SAAS,CAAC,IAAM,CACd0B,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CACnD,GAAID,QAAQ,CAACE,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCV,gBAAgB,CAACS,IAAI,CAAC,CACxB,CACF,CAAE,MAAON,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CACF,CAAC,CAED,KAAM,CAAAS,mBAAmB,CAAG,KAAO,CAAAC,OAAgB,EAAK,CACtDnB,kBAAkB,CAACmB,OAAO,CAAC,CAC3BX,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,GAAI,CACF;AACA,KAAM,CAAAU,aAAa,CAAG,KAAM,CAAAP,KAAK,eAAAQ,MAAA,CAAeF,OAAO,CAACG,MAAM,CAAE,CAAC,CACjE,GAAIF,aAAa,CAACN,EAAE,CAAE,CACpB,KAAM,CAAAb,SAAS,CAAG,KAAM,CAAAmB,aAAa,CAACJ,IAAI,CAAC,CAAC,CAC5Cd,YAAY,CAACD,SAAS,CAAC,CACzB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAsB,KAAK,CAAC,4BAA4B,CAAC,CAC/C,CAEA;AACA,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAX,KAAK,oBAAAQ,MAAA,CAAoBF,OAAO,CAACG,MAAM,CAAE,CAAC,CAC3E,GAAIE,kBAAkB,CAACV,EAAE,CAAE,CACzB,KAAM,CAAAX,cAAc,CAAG,KAAM,CAAAqB,kBAAkB,CAACR,IAAI,CAAC,CAAC,CACtDZ,iBAAiB,CAACD,cAAc,CAAC,CACnC,CAAC,IAAM,CACLc,OAAO,CAACQ,IAAI,CAAC,iCAAiC,CAAC,CAC/CrB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAE,MAAOK,KAAK,CAAE,CACdC,QAAQ,CAAC,+CAA+C,CAAC,CACzDO,OAAO,CAACR,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEb,KAAA,QAAK+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClC,IAAA,CAACF,MAAM,GAAE,CAAC,cAEVI,KAAA,QAAK+B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAEzCtB,aAAa,eACZZ,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBlC,IAAA,CAACH,aAAa,EAACyB,IAAI,CAAEV,aAAc,CAAE,CAAC,CACnC,CACN,cAEDV,KAAA,QAAK+B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDlC,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BlC,IAAA,CAACP,WAAW,EACV0C,eAAe,CAAEV,mBAAoB,CACrCnB,eAAe,CAAEA,eAAgB,CAClC,CAAC,CACC,CAAC,cAGNJ,KAAA,QAAK+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACrClB,KAAK,eACJhB,IAAA,QAAKiC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClDhC,KAAA,QAAK+B,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DlC,IAAA,SAAMiC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,cACnClC,IAAA,SAAAkC,QAAA,CAAOlB,KAAK,CAAO,CAAC,EACjB,CAAC,CACH,CACN,CAEAF,OAAO,eACNd,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBhC,KAAA,QAAK+B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDlC,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BjC,IAAA,SAAMiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,uBAAqB,CAAM,CAAC,EACzD,CAAC,CACH,CACN,CAEA5B,eAAe,EAAIE,SAAS,EAAI,CAACM,OAAO,eACvCZ,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eAEElC,IAAA,CAACL,SAAS,EAACa,SAAS,CAAEA,SAAU,CAAE,CAAC,CAGlCE,cAAc,eACbV,IAAA,CAACJ,cAAc,EAACc,cAAc,CAAEA,cAAe,CAAE,CAClD,cAGDR,KAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhC,KAAA,OAAI+B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EACrD5B,eAAe,CAAC8B,IAAI,CAAC,IAAE,CAAC9B,eAAe,CAACuB,MAAM,CAAC,iBAClD,EAAI,CAAC,cACL7B,IAAA,CAACN,UAAU,EACTmC,MAAM,CAAEvB,eAAe,CAACuB,MAAO,CAC/BrB,SAAS,CAAEA,SAAU,CACtB,CAAC,EACC,CAAC,EACN,CACH,CAEA,CAACF,eAAe,EAAI,CAACQ,OAAO,eAC3BZ,KAAA,QAAK+B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrClC,IAAA,QAAKiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjClC,IAAA,QAAKiC,SAAS,CAAC,mBAAmB,CAACI,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAL,QAAA,cACtFlC,IAAA,SAAMwC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,sMAAsM,CAAE,CAAC,CAC3Q,CAAC,CACH,CAAC,cACN3C,IAAA,OAAIiC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,kBAEvD,CAAI,CAAC,cACLlC,IAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gFAE7B,CAAG,CAAC,EACD,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA7B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}